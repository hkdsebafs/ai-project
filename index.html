<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Accruals & Prepayments | HKDSE BAFS</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a;
            --primary-light: #1e293b;
            --secondary: #d4af37;
            --secondary-light: #f0d576;
            --accent-green: #064e3b;
            --accent-green-light: #059669;
            --accent-coral: #dc2626;
            --accent-blue: #1e40af;
            --background: #fdfcfb;
            --background-alt: #f8f7f4;
            --card-bg: #ffffff;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-muted: #94a3b8;
            --border: #e8e5df;
            --success: #059669;
            --error: #dc2626;
            --shadow: 0 1px 3px rgba(0,0,0,0.04), 0 12px 32px rgba(0,0,0,0.06);
            --shadow-lg: 0 20px 60px rgba(0,0,0,0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.75;
            font-size: 17px;
            letter-spacing: -0.011em;
            font-weight: 400;
        }

        /* Typography */
        h1, h2, h3, h4 {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }

        h1 { font-size: clamp(3rem, 6vw, 5.5rem); font-weight: 500; }
        h2 { font-size: clamp(2.25rem, 4.5vw, 3.5rem); margin-bottom: 1.5rem; }
        h3 { font-size: clamp(1.75rem, 3.5vw, 2.5rem); margin-bottom: 1.25rem; }
        h4 { font-size: 1.5rem; margin-bottom: 1rem; }

        code, .mono {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.88em;
        }

        /* Layout */
        .container {
            max-width: 820px;
            margin: 0 auto;
            padding: 0 3rem;
        }

        .container-wide {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 3rem;
        }

        section {
            padding: 9rem 0;
        }

        section:nth-child(even) {
            background-color: var(--background-alt);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(165deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 6rem 3rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(212, 175, 55, 0.05) 0%, transparent 50%);
            opacity: 0.6;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
        }

        .hero h1 {
            margin-bottom: 2.5rem;
            font-weight: 500;
            letter-spacing: -0.03em;
        }

        .hero-subtitle {
            font-size: 1.35rem;
            opacity: 0.88;
            margin-bottom: 4rem;
            font-weight: 400;
            line-height: 1.7;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(212, 175, 55, 0.2);
            color: var(--secondary-light);
            padding: 0.625rem 1.75rem;
            border-radius: 60px;
            font-weight: 600;
            margin-bottom: 3rem;
            font-size: 0.813rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            border: 1px solid rgba(212, 175, 55, 0.3);
            font-family: 'Inter', sans-serif;
        }

        .cta-button {
            display: inline-block;
            background: var(--secondary);
            color: var(--primary);
            padding: 1.5rem 3.5rem;
            border-radius: 60px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.05rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 32px rgba(212, 175, 55, 0.35);
            letter-spacing: 0.3px;
        }

        .cta-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(212, 175, 55, 0.45);
            background: var(--secondary-light);
        }

        /* Navigation */
        .nav-progress {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(212, 175, 55, 0.1);
            z-index: 1000;
        }

        .nav-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--secondary-light));
            width: 0%;
            transition: width 0.2s ease;
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 4rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        /* Section Headers */
        .section-header {
            text-align: center;
            margin-bottom: 6rem;
        }

        .section-number {
            display: inline-block;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--secondary);
            width: 72px;
            height: 72px;
            border-radius: 50%;
            line-height: 72px;
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 2.5rem;
            font-family: 'Cormorant Garamond', serif;
            box-shadow: 0 8px 24px rgba(15, 23, 42, 0.15);
        }

        .section-header h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
        }

        .section-header p {
            color: var(--text-secondary);
            font-size: 1.2rem;
            max-width: 660px;
            margin: 0 auto;
            line-height: 1.7;
        }

        /* Comparison Table */
        .comparison-wrapper {
            overflow-x: auto;
            margin: 4rem 0;
        }

        .comparison-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .comparison-table th,
        .comparison-table td {
            padding: 2rem 2.5rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table thead {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
        }

        .comparison-table th {
            font-weight: 600;
            font-size: 1.125rem;
            letter-spacing: -0.01em;
        }

        .comparison-table tbody tr {
            background: var(--card-bg);
            transition: background 0.3s ease;
        }

        .comparison-table tbody tr:hover {
            background: var(--background-alt);
        }

        .comparison-table tbody tr:last-child td {
            border-bottom: none;
        }

        .table-icon {
            font-size: 1.5rem;
            margin-right: 0.75rem;
        }

        /* Highlight Box */
        .highlight-box {
            background: linear-gradient(135deg, #fef9e7, #fdf5d8);
            padding: 3.5rem;
            border-radius: 24px;
            color: var(--primary);
            margin: 4rem 0;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .highlight-box h3 {
            margin-bottom: 1.5rem;
        }

        .highlight-box.primary {
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            color: white;
        }

        .highlight-box.success {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            color: var(--accent-green);
            border: 1px solid rgba(5, 150, 105, 0.2);
        }

        /* Timeline Visual */
        .timeline-container {
            margin: 4rem 0;
            padding: 3rem;
            background: var(--card-bg);
            border-radius: 24px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .timeline {
            position: relative;
            padding: 3rem 0;
        }

        .timeline-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, var(--border) 0%, var(--primary) 50%, var(--border) 100%);
            border-radius: 3px;
        }

        .timeline-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .timeline-markers {
            display: flex;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .timeline-marker {
            width: 24px;
            height: 24px;
            background: var(--primary);
            border-radius: 50%;
            border: 4px solid var(--card-bg);
            box-shadow: 0 0 0 3px var(--primary);
        }

        .timeline-period {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            padding: 0.625rem 1.75rem;
            border-radius: 30px;
            font-weight: 600;
            font-size: 0.938rem;
            white-space: nowrap;
        }

        .timeline-period.cash {
            background: var(--accent-coral);
            color: white;
        }

        .timeline-period.service {
            background: var(--accent-green);
            color: white;
        }

        /* Interactive Concept Cards */
        .concept-card {
            background: var(--card-bg);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            border: 1px solid var(--border);
        }

        .concept-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .concept-card-header {
            padding: 3rem 2.5rem;
            text-align: center;
            transition: all 0.4s ease;
        }

        .concept-card.expense .concept-card-header {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            color: var(--accent-coral);
        }

        .concept-card.revenue .concept-card-header {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            color: var(--accent-green);
        }

        .concept-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }

        .concept-card-body {
            padding: 2.5rem;
        }

        .concept-card h4 {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .concept-tag {
            display: inline-block;
            padding: 0.5rem 1.25rem;
            border-radius: 30px;
            font-size: 0.813rem;
            font-weight: 600;
            margin-top: 1rem;
            letter-spacing: 0.3px;
        }

        .concept-tag.asset {
            background: rgba(5, 150, 105, 0.12);
            color: var(--accent-green);
        }

        .concept-tag.liability {
            background: rgba(220, 38, 38, 0.12);
            color: var(--accent-coral);
        }

        .concept-explanation {
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .concept-reveal {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s cubic-bezier(0.4, 0, 0.2, 1), padding 0.6s ease;
            background: var(--background-alt);
            padding: 0 2.5rem;
        }

        .concept-reveal.active {
            max-height: 800px;
            padding: 3rem 2.5rem;
        }

        .reveal-trigger {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            background: var(--background-alt);
            border: none;
            width: 100%;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary);
            transition: all 0.3s ease;
            font-size: 0.938rem;
        }

        .reveal-trigger:hover {
            background: var(--border);
        }

        .reveal-trigger .arrow {
            margin-left: 0.75rem;
            transition: transform 0.3s ease;
            font-size: 0.875rem;
        }

        .reveal-trigger.active .arrow {
            transform: rotate(180deg);
        }

        /* T-Account Visual */
        .t-account {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin: 3rem 0;
            border: 1px solid var(--border);
        }

        .t-account-title {
            background: var(--primary);
            color: white;
            padding: 1.5rem 2.5rem;
            font-weight: 600;
            text-align: center;
            font-size: 1.25rem;
            letter-spacing: -0.01em;
        }

        .t-account-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 240px;
        }

        .t-account-side {
            padding: 2.5rem;
        }

        .t-account-side.debit {
            border-right: 2px solid var(--primary);
        }

        .t-account-side h5 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
        }

        .t-account-entry {
            display: flex;
            justify-content: space-between;
            padding: 1rem 1.25rem;
            margin-bottom: 0.75rem;
            border-radius: 12px;
            background: var(--background-alt);
            font-size: 0.938rem;
        }

        .t-account-entry.highlight {
            background: rgba(212, 175, 55, 0.15);
            border: 2px solid var(--secondary);
        }

        .t-account-total {
            display: flex;
            justify-content: space-between;
            padding: 1.25rem;
            margin-top: 1.5rem;
            border-top: 3px double var(--primary);
            font-weight: 700;
        }

        /* Interactive Exercise */
        .exercise-container {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 4rem;
            box-shadow: var(--shadow);
            margin: 4rem 0;
            border: 1px solid var(--border);
        }

        .exercise-header {
            display: flex;
            align-items: center;
            margin-bottom: 3rem;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .exercise-badge {
            background: var(--secondary);
            color: var(--primary);
            padding: 0.625rem 1.5rem;
            border-radius: 30px;
            font-weight: 700;
            font-size: 0.813rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .exercise-title {
            font-size: 1.5rem;
            color: var(--primary);
            font-family: 'Cormorant Garamond', serif;
            font-weight: 600;
        }

        .exercise-scenario {
            background: var(--background-alt);
            padding: 3rem;
            border-radius: 16px;
            margin-bottom: 3rem;
            border-left: 4px solid var(--secondary);
        }

        .exercise-question {
            margin: 3rem 0;
        }

        .exercise-question label {
            display: block;
            margin-bottom: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.063rem;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .exercise-input {
            padding: 1.25rem 1.75rem;
            border: 2px solid var(--border);
            border-radius: 16px;
            font-size: 1.063rem;
            font-family: 'JetBrains Mono', monospace;
            width: 200px;
            transition: all 0.3s ease;
            background: white;
        }

        .exercise-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(15, 23, 42, 0.08);
        }

        .exercise-input.correct {
            border-color: var(--success);
            background: rgba(5, 150, 105, 0.06);
        }

        .exercise-input.incorrect {
            border-color: var(--error);
            background: rgba(220, 38, 38, 0.06);
        }

        .input-prefix {
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 1.125rem;
        }

        .check-btn {
            padding: 1.25rem 3rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 16px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.3px;
        }

        .check-btn:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(15, 23, 42, 0.2);
        }

        .check-btn:active {
            transform: translateY(0);
        }

        .feedback {
            margin-top: 2rem;
            padding: 2rem;
            border-radius: 16px;
            display: none;
            font-weight: 500;
        }

        .feedback.show {
            display: block;
        }

        .feedback.success {
            background: rgba(5, 150, 105, 0.08);
            border: 2px solid var(--success);
            color: var(--accent-green);
        }

        .feedback.error {
            background: rgba(220, 38, 38, 0.08);
            border: 2px solid var(--error);
            color: var(--error);
        }

        .feedback-icon {
            font-size: 1.5rem;
            margin-right: 1rem;
        }

        /* Multiple Choice */
        .mc-options {
            display: grid;
            gap: 1.25rem;
            margin: 2rem 0;
        }

        .mc-option {
            display: flex;
            align-items: center;
            padding: 1.75rem 2rem;
            background: var(--card-bg);
            border: 2px solid var(--border);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mc-option:hover {
            border-color: var(--primary);
            background: var(--background-alt);
            transform: translateX(4px);
        }

        .mc-option.selected {
            border-color: var(--primary);
            background: rgba(15, 23, 42, 0.04);
        }

        .mc-option.correct {
            border-color: var(--success);
            background: rgba(5, 150, 105, 0.08);
        }

        .mc-option.incorrect {
            border-color: var(--error);
            background: rgba(220, 38, 38, 0.08);
        }

        .mc-option input[type="radio"] {
            display: none;
        }

        .mc-circle {
            width: 28px;
            height: 28px;
            border: 2.5px solid var(--border);
            border-radius: 50%;
            margin-right: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .mc-option.selected .mc-circle {
            border-color: var(--primary);
            background: var(--primary);
        }

        .mc-option.selected .mc-circle::after {
            content: '';
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
        }

        .mc-option.correct .mc-circle {
            border-color: var(--success);
            background: var(--success);
        }

        .mc-option.incorrect .mc-circle {
            border-color: var(--error);
            background: var(--error);
        }

        /* Formula Box */
        .formula-box {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 4rem;
            border-radius: 24px;
            text-align: center;
            margin: 4rem 0;
            box-shadow: var(--shadow-lg);
        }

        .formula-box h3 {
            margin-bottom: 2rem;
            font-size: 1.75rem;
        }

        .formula {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.25rem;
            background: rgba(255,255,255,0.12);
            padding: 2rem 2.5rem;
            border-radius: 16px;
            display: inline-block;
            margin: 1.5rem 0;
            border: 1px solid rgba(255,255,255,0.15);
        }

        .formula-explanation {
            margin-top: 2rem;
            font-size: 1.063rem;
            opacity: 0.9;
            line-height: 1.7;
        }

        /* Step by Step */
        .steps-container {
            margin: 4rem 0;
        }

        .step {
            display: flex;
            gap: 2.5rem;
            padding: 3rem;
            background: var(--card-bg);
            border-radius: 20px;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            opacity: 0.4;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 1px solid var(--border);
        }

        .step.active {
            opacity: 1;
            border-left: 5px solid var(--secondary);
            box-shadow: var(--shadow-lg);
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.5rem;
            flex-shrink: 0;
            box-shadow: 0 4px 16px rgba(15, 23, 42, 0.2);
        }

        .step.active .step-number {
            background: var(--secondary);
            color: var(--primary);
        }

        .step-content h4 {
            color: var(--primary);
            margin-bottom: 0.75rem;
        }

        .step-content p {
            color: var(--text-secondary);
        }

        .step-detail {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease, margin 0.6s ease;
        }

        .step.active .step-detail {
            max-height: 600px;
            margin-top: 1.5rem;
        }

        /* Drag and Drop */
        .dnd-container {
            margin: 3rem 0;
        }

        .dnd-items {
            display: flex;
            flex-wrap: wrap;
            gap: 1.25rem;
            margin-bottom: 3rem;
            min-height: 100px;
            padding: 2.5rem;
            background: var(--background-alt);
            border-radius: 20px;
            border: 2px dashed var(--border);
        }

        .dnd-item {
            padding: 1rem 1.75rem;
            background: white;
            border: 2px solid var(--primary);
            border-radius: 12px;
            cursor: grab;
            font-weight: 500;
            transition: all 0.3s ease;
            user-select: none;
            box-shadow: 0 2px 8px rgba(15, 23, 42, 0.08);
        }

        .dnd-item:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(15, 23, 42, 0.15);
        }

        .dnd-item.dragging {
            opacity: 0.4;
            cursor: grabbing;
        }

        .dnd-zones {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .dnd-zone {
            padding: 2.5rem;
            border: 2px dashed var(--border);
            border-radius: 20px;
            min-height: 180px;
            transition: all 0.3s ease;
            background: white;
        }

        .dnd-zone.drag-over {
            border-color: var(--secondary);
            background: rgba(212, 175, 55, 0.05);
            border-style: solid;
        }

        .dnd-zone h5 {
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
        }

        .dnd-zone .dnd-item {
            margin-bottom: 0.75rem;
            width: 100%;
        }

        /* Progress Bar Container */
        .progress-bar-container {
            background: var(--border);
            height: 8px;
            border-radius: 4px;
            margin: 2rem 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--accent-coral));
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        /* Callout */
        .callout {
            display: flex;
            gap: 2rem;
            padding: 3rem;
            border-radius: 20px;
            margin: 3rem 0;
        }

        .callout.info {
            background: rgba(30, 64, 175, 0.06);
            border: 2px solid rgba(30, 64, 175, 0.2);
        }

        .callout.warning {
            background: rgba(212, 175, 55, 0.08);
            border: 2px solid rgba(212, 175, 55, 0.25);
        }

        .callout.tip {
            background: rgba(5, 150, 105, 0.06);
            border: 2px solid rgba(5, 150, 105, 0.2);
        }

        .callout-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        .callout-content h4 {
            margin-bottom: 1rem;
            color: var(--primary);
        }

        /* Tabs */
        .tabs {
            margin: 4rem 0;
        }

        .tab-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 3rem;
            border-bottom: 2px solid var(--border);
            padding-bottom: 0;
        }

        .tab-btn {
            padding: 1.25rem 2.5rem;
            background: none;
            border: none;
            font-size: 1.063rem;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
            border-radius: 12px 12px 0 0;
        }

        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--secondary);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .tab-btn:hover {
            color: var(--primary);
            background: var(--background-alt);
        }

        .tab-btn.active {
            color: var(--primary);
        }

        .tab-btn.active::after {
            transform: scaleX(1);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Financial Statement */
        .financial-statement {
            background: var(--card-bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            margin: 3rem 0;
            border: 1px solid var(--border);
        }

        .fs-title {
            background: var(--primary);
            color: white;
            padding: 1.75rem 3rem;
            text-align: center;
            font-weight: 600;
            font-size: 1.25rem;
            letter-spacing: -0.01em;
        }

        .fs-subtitle {
            background: var(--primary-light);
            color: rgba(255,255,255,0.9);
            padding: 1rem 3rem;
            text-align: center;
            font-size: 1rem;
        }

        .fs-body {
            padding: 3rem;
        }

        .fs-row {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border);
        }

        .fs-row:last-child {
            border-bottom: none;
        }

        .fs-row.header {
            font-weight: 700;
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
            padding-top: 1.5rem;
        }

        .fs-row.total {
            font-weight: 700;
            border-top: 3px double var(--text-primary);
            margin-top: 1rem;
            padding-top: 1.5rem;
        }

        .fs-row.subtotal {
            font-weight: 600;
        }

        .fs-row.indent {
            padding-left: 3rem;
        }

        .fs-row.highlight {
            background: rgba(212, 175, 55, 0.1);
            margin: 0 -3rem;
            padding: 1rem 3rem;
            border-radius: 8px;
        }

        /* Scenario Builder */
        .scenario-builder {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 3rem;
            box-shadow: var(--shadow);
            margin: 3rem 0;
            border: 1px solid var(--border);
        }

        .scenario-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .control-group label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.938rem;
        }

        .control-group select,
        .control-group input {
            width: 100%;
            padding: 1rem 1.25rem;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .control-group select:focus,
        .control-group input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .scenario-output {
            background: var(--background-alt);
            padding: 3rem;
            border-radius: 16px;
            border: 2px solid var(--border);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 3rem;
            right: 3rem;
            padding: 1.5rem 2.5rem;
            background: var(--primary);
            color: white;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            transform: translateY(200%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1001;
            font-weight: 500;
        }

        .toast.show {
            transform: translateY(0);
        }

        .toast.success {
            background: var(--success);
        }

        .toast.error {
            background: var(--error);
        }

        /* Quiz Results */
        .quiz-results {
            text-align: center;
            padding: 4rem;
            background: var(--card-bg);
            border-radius: 24px;
            box-shadow: var(--shadow);
            display: none;
            border: 1px solid var(--border);
        }

        .quiz-results.show {
            display: block;
        }

        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 3rem auto;
            font-size: 3rem;
            font-weight: 700;
            box-shadow: var(--shadow-lg);
        }

        .score-label {
            font-size: 1rem;
            font-weight: 400;
            margin-top: 0.5rem;
        }

        /* Accordion */
        .accordion {
            margin: 3rem 0;
        }

        .accordion-item {
            background: var(--card-bg);
            border-radius: 16px;
            margin-bottom: 1.25rem;
            box-shadow: var(--shadow);
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .accordion-header {
            padding: 2rem 2.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s ease;
        }

        .accordion-header:hover {
            background: var(--background-alt);
        }

        .accordion-header h4 {
            margin: 0;
            font-size: 1.25rem;
        }

        .accordion-icon {
            font-size: 1.75rem;
            transition: transform 0.3s ease;
            color: var(--secondary);
            font-weight: 300;
        }

        .accordion-item.open .accordion-icon {
            transform: rotate(45deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .accordion-item.open .accordion-content {
            max-height: 1200px;
        }

        .accordion-body {
            padding: 0 2.5rem 2.5rem;
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .mt-2 { margin-top: 2rem; }
        .mt-3 { margin-top: 3rem; }
        .mb-2 { margin-bottom: 2rem; }
        .mb-3 { margin-bottom: 3rem; }
        
        .flex { display: flex; }
        .flex-wrap { flex-wrap: wrap; }
        .gap-1 { gap: 1rem; }
        .gap-2 { gap: 2rem; }
        .justify-center { justify-content: center; }
        .items-center { align-items: center; }

        /* Responsive */
        @media (max-width: 768px) {
            section { padding: 5rem 0; }
            .container, .container-wide { padding: 0 1.5rem; }
            .card { padding: 2.5rem; }
            .exercise-container { padding: 2rem; }
            .t-account-body { grid-template-columns: 1fr; }
            .t-account-side.debit { border-right: none; border-bottom: 2px solid var(--primary); }
            .step { flex-direction: column; gap: 1.5rem; }
            .callout { flex-direction: column; gap: 1.5rem; }
            .card-grid { grid-template-columns: 1fr; gap: 2rem; }
        }

        /* Print Styles */
        @media print {
            .hero { min-height: auto; padding: 2rem; }
            section { padding: 2rem 0; }
            .card { box-shadow: none; border: 1px solid #ccc; }
        }
    </style>
</head>
<body>
    <div class="nav-progress">
        <div class="nav-progress-bar" id="progressBar"></div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <span class="hero-badge">HKDSE BAFS</span>
            <h1>Master Accruals & Prepayments</h1>
            <p class="hero-subtitle">
                The complete interactive guide that transforms confusing concepts into crystal-clear understanding. 
                By the end, you'll handle even the most challenging exam questions with confidence.
            </p>
            <a href="#why-matters" class="cta-button">Begin Your Journey ‚Üí</a>
        </div>
    </section>

    <!-- Section 1: Why This Matters -->
    <section id="why-matters">
        <div class="container">
            <div class="section-header">
                <div class="section-number">1</div>
                <h2>Why This Actually Matters</h2>
                <p>Before diving into rules, let's understand the real-world problem we're solving</p>
            </div>

            <div class="card">
                <h3>The Story of Two Business Owners</h3>
                <p style="margin-top: 2rem; color: var(--text-secondary);">
                    Imagine two friends, <strong>Alex</strong> and <strong>Ben</strong>, who each run a consulting business. 
                    Both earned the same revenue and had the same expenses in December. But they calculate their profit differently...
                </p>
                
                <div class="card-grid" style="margin-top: 3rem;">
                    <div style="background: var(--background-alt); padding: 3rem; border-radius: 16px; border-left: 4px solid var(--accent-coral);">
                        <h4>üì¶ Alex (Cash Accounting)</h4>
                        <p style="margin-top: 1.5rem; color: var(--text-secondary);">
                            "I completed a $50,000 project in December, but the client won't pay until January. 
                            So my December revenue is... <strong>$0</strong>."
                        </p>
                        <p style="margin-top: 1.5rem; color: var(--text-secondary);">
                            "I haven't paid this month's $5,000 rent yet, so my December expenses are... <strong>$0</strong>."
                        </p>
                        <div style="margin-top: 2rem; padding: 1.5rem; background: white; border-radius: 12px; text-align: center; font-weight: 600;">
                            December Profit: $0
                        </div>
                    </div>
                    
                    <div style="background: var(--background-alt); padding: 3rem; border-radius: 16px; border-left: 4px solid var(--accent-green);">
                        <h4>üìä Ben (Accrual Accounting)</h4>
                        <p style="margin-top: 1.5rem; color: var(--text-secondary);">
                            "I completed and delivered the $50,000 project in December. The work is done, so my December revenue is... <strong>$50,000</strong>."
                        </p>
                        <p style="margin-top: 1.5rem; color: var(--text-secondary);">
                            "I used the office all month, so my December rent expense is... <strong>$5,000</strong>."
                        </p>
                        <div style="margin-top: 2rem; padding: 1.5rem; background: white; border-radius: 12px; text-align: center; font-weight: 600;">
                            December Profit: $45,000
                        </div>
                    </div>
                </div>
            </div>

            <div class="highlight-box primary" style="margin-top: 4rem;">
                <h3>üéØ The Core Insight</h3>
                <p style="margin-top: 1.5rem; font-size: 1.063rem;">
                    <strong>Cash accounting</strong> asks: "When did the money move?"<br>
                    <strong>Accrual accounting</strong> asks: "When was the value created or consumed?"
                </p>
                <p style="margin-top: 1.5rem; font-size: 1.063rem;">
                    Ben's approach gives stakeholders a true picture of what happened during December. 
                    That's why all major accounting standards require accrual accounting for businesses.
                </p>
            </div>

            <!-- Interactive Quiz -->
            <div class="exercise-container" style="margin-top: 4rem;">
                <div class="exercise-header">
                    <span class="exercise-badge">Quick Check</span>
                    <span class="exercise-title">Do you understand the difference?</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Scenario:</strong> A law firm completed legal work worth $20,000 in November. 
                    The client paid a $5,000 deposit in October and will pay the remaining $15,000 in December.</p>
                </div>

                <div class="exercise-question">
                    <label>Under accrual accounting, when should the $20,000 revenue be recognized?</label>
                    <div class="mc-options" id="quiz1-options">
                        <label class="mc-option" data-value="a">
                            <input type="radio" name="quiz1" value="a">
                            <span class="mc-circle"></span>
                            <span>October (when deposit was received)</span>
                        </label>
                        <label class="mc-option" data-value="b">
                            <input type="radio" name="quiz1" value="b">
                            <span class="mc-circle"></span>
                            <span>November (when work was completed)</span>
                        </label>
                        <label class="mc-option" data-value="c">
                            <input type="radio" name="quiz1" value="c">
                            <span class="mc-circle"></span>
                            <span>December (when final payment is received)</span>
                        </label>
                        <label class="mc-option" data-value="d">
                            <input type="radio" name="quiz1" value="d">
                            <span class="mc-circle"></span>
                            <span>Split across October, November, and December</span>
                        </label>
                    </div>
                </div>

                <button class="check-btn" id="quiz1-check">Check Answer</button>
                
                <div class="feedback" id="quiz1-feedback"></div>
            </div>
        </div>
    </section>

    <!-- Section 2: The Comparison -->
    <section id="comparison">
        <div class="container">
            <div class="section-header">
                <div class="section-number">2</div>
                <h2>Cash vs. Accrual Accounting</h2>
                <p>A complete side-by-side comparison</p>
            </div>

            <div class="comparison-wrapper">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th><span class="table-icon">üíµ</span> Cash Accounting</th>
                            <th><span class="table-icon">üìä</span> Accrual Accounting</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Revenue Recognition</strong></td>
                            <td>When cash is <em>received</em></td>
                            <td>When revenue is <em>earned</em> (goods delivered / service provided)</td>
                        </tr>
                        <tr>
                            <td><strong>Expense Recognition</strong></td>
                            <td>When cash is <em>paid</em></td>
                            <td>When expense is <em>incurred</em> (resource consumed)</td>
                        </tr>
                        <tr>
                            <td><strong>Simplicity</strong></td>
                            <td>‚úÖ Very simple to implement</td>
                            <td>‚ùå Requires adjustments at period end</td>
                        </tr>
                        <tr>
                            <td><strong>Accuracy</strong></td>
                            <td>‚ùå Can be misleading</td>
                            <td>‚úÖ True picture of financial performance</td>
                        </tr>
                        <tr>
                            <td><strong>Planning</strong></td>
                            <td>‚ùå Hard to forecast</td>
                            <td>‚úÖ Better for resource management</td>
                        </tr>
                        <tr>
                            <td><strong>Required For</strong></td>
                            <td>Small businesses, personal finance</td>
                            <td>All companies following accounting standards</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="callout tip" style="margin-top: 4rem;">
                <div class="callout-icon">üí°</div>
                <div class="callout-content">
                    <h4>The Accrual Concept (HKDSE Definition)</h4>
                    <p>
                        Revenues and expenses are recognized when they are <strong>earned or incurred</strong>, 
                        regardless of when cash is received or paid. This is the foundation of everything we'll learn today.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: The Four Types -->
    <section id="four-types">
        <div class="container-wide">
            <div class="section-header">
                <div class="section-number">3</div>
                <h2>The Four Types You Must Master</h2>
                <p>Click each card to explore the concept in depth</p>
            </div>

            <div class="card-grid" style="grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));">
                <!-- Accrued Expense -->
                <div class="concept-card expense" data-concept="accrued-expense">
                    <div class="concept-card-header">
                        <div class="concept-icon">üî¥</div>
                        <h4>Accrued Expense</h4>
                        <div>ÂÖàÂÅöÂæåÈå¢ ‚Ä¢ Used but not yet paid</div>
                    </div>
                    <div class="concept-card-body">
                        <p class="concept-explanation">
                            You've <strong>consumed</strong> a service or resource, but you <strong>haven't paid</strong> for it yet.
                        </p>
                        <span class="concept-tag liability">Current Liability</span>
                    </div>
                    <button class="reveal-trigger" data-target="accrued-expense-detail">
                        Click to expand <span class="arrow">‚ñº</span>
                    </button>
                    <div class="concept-reveal" id="accrued-expense-detail">
                        <h4>Real-World Examples:</h4>
                        <ul style="margin: 1.5rem 0; padding-left: 1.5rem; line-height: 1.9;">
                            <li>Employees worked in December, paid in January ‚Üí <strong>Accrued wages</strong></li>
                            <li>Used electricity in December, bill comes in January ‚Üí <strong>Accrued utilities</strong></li>
                            <li>Loan interest accumulated but not yet due ‚Üí <strong>Accrued interest</strong></li>
                        </ul>
                        <h4>Why is it a Liability?</h4>
                        <p style="margin-top: 0.75rem;">You owe money for something you've already received. It's a debt you must pay.</p>
                        <h4 style="margin-top: 1.5rem;">The Adjustment:</h4>
                        <code style="display: block; background: white; padding: 1.5rem; border-radius: 12px; margin-top: 1rem; line-height: 1.8;">
                            Dr Expense Account (increase expense)<br>
                            &nbsp;&nbsp;&nbsp;Cr Accrued Expense (create liability)
                        </code>
                    </div>
                </div>

                <!-- Prepaid Expense -->
                <div class="concept-card expense" data-concept="prepaid-expense">
                    <div class="concept-card-header">
                        <div class="concept-icon">üü†</div>
                        <h4>Prepaid Expense</h4>
                        <div>ÂÖàÈå¢ÂæåÂÅö ‚Ä¢ Paid but not yet used</div>
                    </div>
                    <div class="concept-card-body">
                        <p class="concept-explanation">
                            You've <strong>paid</strong> for something, but you <strong>haven't used</strong> it yet.
                        </p>
                        <span class="concept-tag asset">Current Asset</span>
                    </div>
                    <button class="reveal-trigger" data-target="prepaid-expense-detail">
                        Click to expand <span class="arrow">‚ñº</span>
                    </button>
                    <div class="concept-reveal" id="prepaid-expense-detail">
                        <h4>Real-World Examples:</h4>
                        <ul style="margin: 1.5rem 0; padding-left: 1.5rem; line-height: 1.9;">
                            <li>Paid 12 months of insurance in advance ‚Üí <strong>Prepaid insurance</strong></li>
                            <li>Paid rent for next quarter ‚Üí <strong>Prepaid rent</strong></li>
                            <li>Bought office supplies not yet used ‚Üí <strong>Prepaid supplies</strong></li>
                        </ul>
                        <h4>Why is it an Asset?</h4>
                        <p style="margin-top: 0.75rem;">You've paid money, but you still have a right to receive the service. Someone owes you!</p>
                        <h4 style="margin-top: 1.5rem;">The Adjustment:</h4>
                        <code style="display: block; background: white; padding: 1.5rem; border-radius: 12px; margin-top: 1rem; line-height: 1.8;">
                            Dr Prepaid Expense (create asset)<br>
                            &nbsp;&nbsp;&nbsp;Cr Expense Account (decrease expense)
                        </code>
                    </div>
                </div>

                <!-- Accrued Revenue -->
                <div class="concept-card revenue" data-concept="accrued-revenue">
                    <div class="concept-card-header">
                        <div class="concept-icon">üü¢</div>
                        <h4>Accrued Revenue</h4>
                        <div>ÂÖàÂÅöÂæåÈå¢ ‚Ä¢ Earned but not yet received</div>
                    </div>
                    <div class="concept-card-body">
                        <p class="concept-explanation">
                            You've <strong>provided</strong> a service, but you <strong>haven't been paid</strong> yet.
                        </p>
                        <span class="concept-tag asset">Current Asset</span>
                    </div>
                    <button class="reveal-trigger" data-target="accrued-revenue-detail">
                        Click to expand <span class="arrow">‚ñº</span>
                    </button>
                    <div class="concept-reveal" id="accrued-revenue-detail">
                        <h4>Real-World Examples:</h4>
                        <ul style="margin: 1.5rem 0; padding-left: 1.5rem; line-height: 1.9;">
                            <li>Completed consulting work, invoice not yet paid ‚Üí <strong>Accrued service revenue</strong></li>
                            <li>Rented out property, tenant hasn't paid ‚Üí <strong>Rent receivable</strong></li>
                            <li>Interest earned on deposit, not yet credited ‚Üí <strong>Interest receivable</strong></li>
                        </ul>
                        <h4>Why is it an Asset?</h4>
                        <p style="margin-top: 0.75rem;">You've done the work. Someone owes you money. That's an asset you will collect!</p>
                        <h4 style="margin-top: 1.5rem;">The Adjustment:</h4>
                        <code style="display: block; background: white; padding: 1.5rem; border-radius: 12px; margin-top: 1rem; line-height: 1.8;">
                            Dr Accrued Revenue / Receivable (create asset)<br>
                            &nbsp;&nbsp;&nbsp;Cr Revenue Account (increase revenue)
                        </code>
                    </div>
                </div>

                <!-- Unearned Revenue -->
                <div class="concept-card revenue" data-concept="unearned-revenue">
                    <div class="concept-card-header">
                        <div class="concept-icon">üîµ</div>
                        <h4>Unearned Revenue</h4>
                        <div>ÂÖàÈå¢ÂæåÂÅö ‚Ä¢ Received but not yet earned</div>
                    </div>
                    <div class="concept-card-body">
                        <p class="concept-explanation">
                            You've <strong>received payment</strong>, but you <strong>haven't provided</strong> the service yet.
                        </p>
                        <span class="concept-tag liability">Current Liability</span>
                    </div>
                    <button class="reveal-trigger" data-target="unearned-revenue-detail">
                        Click to expand <span class="arrow">‚ñº</span>
                    </button>
                    <div class="concept-reveal" id="unearned-revenue-detail">
                        <h4>Real-World Examples:</h4>
                        <ul style="margin: 1.5rem 0; padding-left: 1.5rem; line-height: 1.9;">
                            <li>Received payment for future services ‚Üí <strong>Unearned service revenue</strong></li>
                            <li>Tenant paid rent in advance ‚Üí <strong>Unearned rental income</strong></li>
                            <li>Magazine subscription paid upfront ‚Üí <strong>Unearned subscription revenue</strong></li>
                        </ul>
                        <h4>Why is it a Liability?</h4>
                        <p style="margin-top: 0.75rem;">You've taken their money but haven't delivered. You owe them the service!</p>
                        <h4 style="margin-top: 1.5rem;">The Adjustment:</h4>
                        <code style="display: block; background: white; padding: 1.5rem; border-radius: 12px; margin-top: 1rem; line-height: 1.8;">
                            Dr Revenue Account (decrease revenue)<br>
                            &nbsp;&nbsp;&nbsp;Cr Unearned Revenue (create liability)
                        </code>
                    </div>
                </div>
            </div>

            <!-- Memory Framework -->
            <div class="highlight-box" style="margin-top: 5rem;">
                <h3>üß† The Memory Framework</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 3rem; margin-top: 2rem;">
                    <div>
                        <h4>Think "Who owes whom?"</h4>
                        <ul style="margin-top: 1rem; list-style: none; padding: 0; line-height: 2;">
                            <li>‚úì <strong>Asset</strong> = Someone owes ME money or service</li>
                            <li>‚úì <strong>Liability</strong> = I owe THEM money or service</li>
                        </ul>
                    </div>
                    <div>
                        <h4>The Pattern:</h4>
                        <ul style="margin-top: 1rem; list-style: none; padding: 0; line-height: 2;">
                            <li>‚úì Accrued expense ‚Üí I owe money ‚Üí <strong>Liability</strong></li>
                            <li>‚úì Prepaid expense ‚Üí They owe service ‚Üí <strong>Asset</strong></li>
                            <li>‚úì Accrued revenue ‚Üí They owe money ‚Üí <strong>Asset</strong></li>
                            <li>‚úì Unearned revenue ‚Üí I owe service ‚Üí <strong>Liability</strong></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Classification Exercise -->
    <section id="classification-practice">
        <div class="container">
            <div class="section-header">
                <div class="section-number">4</div>
                <h2>Practice: Classification Challenge</h2>
                <p>Drag each item to the correct category</p>
            </div>

            <div class="dnd-container">
                <div class="dnd-items" id="dnd-source">
                    <div class="dnd-item" draggable="true" data-answer="accrued-expense">December wages unpaid</div>
                    <div class="dnd-item" draggable="true" data-answer="prepaid-expense">Insurance for next year</div>
                    <div class="dnd-item" draggable="true" data-answer="accrued-revenue">Rent earned but not received</div>
                    <div class="dnd-item" draggable="true" data-answer="unearned-revenue">Deposit from customer</div>
                    <div class="dnd-item" draggable="true" data-answer="accrued-expense">Electricity used in Dec</div>
                    <div class="dnd-item" draggable="true" data-answer="prepaid-expense">Prepaid advertising</div>
                    <div class="dnd-item" draggable="true" data-answer="accrued-revenue">Interest earned on deposit</div>
                    <div class="dnd-item" draggable="true" data-answer="unearned-revenue">Tuition paid in advance</div>
                </div>

                <div class="dnd-zones">
                    <div class="dnd-zone" data-zone="accrued-expense">
                        <h5>üî¥ Accrued Expense (Liability)</h5>
                    </div>
                    <div class="dnd-zone" data-zone="prepaid-expense">
                        <h5>üü† Prepaid Expense (Asset)</h5>
                    </div>
                    <div class="dnd-zone" data-zone="accrued-revenue">
                        <h5>üü¢ Accrued Revenue (Asset)</h5>
                    </div>
                    <div class="dnd-zone" data-zone="unearned-revenue">
                        <h5>üîµ Unearned Revenue (Liability)</h5>
                    </div>
                </div>
            </div>

            <button class="check-btn" id="dnd-check" style="margin-top: 3rem;">Check My Answers</button>
            <div class="feedback" id="dnd-feedback"></div>
        </div>
    </section>

    <!-- Section 5: The Master Formula -->
    <section id="master-formula">
        <div class="container">
            <div class="section-header">
                <div class="section-number">5</div>
                <h2>The Master Formula</h2>
                <p>The single most important equation for solving any problem</p>
            </div>

            <div class="formula-box">
                <h3>Income Statement Amount (Actual Usage/Earning)</h3>
                <div class="formula">
                    = Trial Balance ¬± Adjustments
                </div>
                <p class="formula-explanation">
                    The Trial Balance shows what was paid/received.<br>
                    We adjust to show what was actually used/earned.
                </p>
            </div>

            <div class="tabs" style="margin-top: 4rem;">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="expenses-tab">Expenses</button>
                    <button class="tab-btn" data-tab="revenues-tab">Revenues</button>
                </div>

                <div class="tab-content active" id="expenses-tab">
                    <div class="card">
                        <h3>Expense Formula</h3>
                        <div class="formula-box" style="margin: 3rem 0; background: linear-gradient(135deg, var(--accent-coral), #b91c1c);">
                            <div class="formula" style="font-size: 1.063rem;">
                                I/S Expense = TB Amount + Accrued c/d ‚àí Prepaid c/d + Prepaid b/d ‚àí Accrued b/d
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 3rem;">Understanding Each Part:</h4>
                        <table class="comparison-table" style="margin-top: 2rem;">
                            <tbody>
                                <tr>
                                    <td><strong>TB Amount</strong></td>
                                    <td>Cash paid during the year (from trial balance)</td>
                                </tr>
                                <tr>
                                    <td><strong>+ Accrued c/d</strong></td>
                                    <td>Add expenses used but not yet paid (end of year)</td>
                                </tr>
                                <tr>
                                    <td><strong>‚àí Prepaid c/d</strong></td>
                                    <td>Subtract expenses paid but not yet used (end of year)</td>
                                </tr>
                                <tr>
                                    <td><strong>+ Prepaid b/d</strong></td>
                                    <td>Add expenses paid last year but used this year</td>
                                </tr>
                                <tr>
                                    <td><strong>‚àí Accrued b/d</strong></td>
                                    <td>Subtract expenses used last year but paid this year</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-content" id="revenues-tab">
                    <div class="card">
                        <h3>Revenue Formula</h3>
                        <div class="formula-box success" style="margin: 3rem 0; background: linear-gradient(135deg, var(--accent-green), #065f46);">
                            <div class="formula" style="font-size: 1.063rem;">
                                I/S Revenue = TB Amount + Accrued c/d ‚àí Unearned c/d + Unearned b/d ‚àí Accrued b/d
                            </div>
                        </div>
                        
                        <h4 style="margin-top: 3rem;">Understanding Each Part:</h4>
                        <table class="comparison-table" style="margin-top: 2rem;">
                            <tbody>
                                <tr>
                                    <td><strong>TB Amount</strong></td>
                                    <td>Cash received during the year (from trial balance)</td>
                                </tr>
                                <tr>
                                    <td><strong>+ Accrued c/d</strong></td>
                                    <td>Add revenue earned but not yet received (end of year)</td>
                                </tr>
                                <tr>
                                    <td><strong>‚àí Unearned c/d</strong></td>
                                    <td>Subtract cash received but not yet earned (end of year)</td>
                                </tr>
                                <tr>
                                    <td><strong>+ Unearned b/d</strong></td>
                                    <td>Add cash received last year, earned this year</td>
                                </tr>
                                <tr>
                                    <td><strong>‚àí Accrued b/d</strong></td>
                                    <td>Subtract revenue earned last year but received this year</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 6: T-Account Mastery -->
    <section id="t-accounts">
        <div class="container">
            <div class="section-header">
                <div class="section-number">6</div>
                <h2>T-Account Mastery</h2>
                <p>See the complete picture with T-accounts</p>
            </div>

            <div class="callout info">
                <div class="callout-icon">üìå</div>
                <div class="callout-content">
                    <h4>The Three Golden Rules of T-Accounts</h4>
                    <ol style="margin-top: 1rem; padding-left: 1.5rem; line-height: 1.9;">
                        <li><strong>Expenses</strong> have a normal <strong>Debit</strong> balance (so payments go on Debit side)</li>
                        <li><strong>Revenues</strong> have a normal <strong>Credit</strong> balance (so receipts go on Credit side)</li>
                        <li><strong>The closing entry</strong> (to P&L) is always on the <strong>opposite</strong> side to clear the account</li>
                    </ol>
                </div>
            </div>

            <!-- Interactive T-Account Example -->
            <h3 style="margin-top: 4rem;">Interactive Example: Rent Expense with Accrual</h3>
            
            <div class="exercise-scenario">
                <p><strong>Scenario:</strong> John's firm rents an office at $12,500/month. 
                For the year ended 31 December 2023, rent was paid as follows:</p>
                <ul style="margin-top: 1.5rem; padding-left: 1.5rem;">
                    <li>1 Apr 2023: Paid $37,500 (for Jan-Mar)</li>
                    <li>1 Jul 2023: Paid $37,500 (for Apr-Jun)</li>
                    <li>1 Oct 2023: Paid $37,500 (for Jul-Sep)</li>
                    <li>2 Jan 2024: Paid $37,500 (for Oct-Dec) ‚Üê <strong>Not paid by year end!</strong></li>
                </ul>
            </div>

            <div class="steps-container">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Identify the Problem</h4>
                        <p>We used 12 months of rent ($150,000) but only paid for 9 months ($112,500)</p>
                        <div class="step-detail">
                            <div style="background: var(--background-alt); padding: 2rem; border-radius: 12px; margin-top: 1.5rem;">
                                <p><strong>Cash paid:</strong> $37,500 √ó 3 = <span style="color: var(--accent-coral); font-weight: 600;">$112,500</span></p>
                                <p style="margin-top: 0.5rem;"><strong>Rent used:</strong> $12,500 √ó 12 = <span style="color: var(--accent-green); font-weight: 600;">$150,000</span></p>
                                <p style="margin-top: 0.5rem;"><strong>Difference:</strong> $150,000 ‚àí $112,500 = <span style="color: var(--primary); font-weight: 600;">$37,500 accrued</span></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Record the Payments (Debit Side)</h4>
                        <p>Each payment is debited to Rent Expense</p>
                        <div class="step-detail">
                            <p>When we pay rent: <code>Dr Rent Expense / Cr Bank</code></p>
                            <p style="margin-top: 1rem;">The T/B shows $112,500 (total paid)</p>
                        </div>
                    </div>
                </div>

                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Make the Accrual Adjustment</h4>
                        <p>Record the unpaid rent as accrued expense</p>
                        <div class="step-detail">
                            <p>At year end: <code>Dr Rent Expense $37,500 / Cr Accrued Rent Expense $37,500</code></p>
                            <p style="margin-top: 1rem;">This appears as "Accrued c/d" on the <strong>same side as Bank</strong> (Debit)</p>
                        </div>
                    </div>
                </div>

                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Close to Profit & Loss</h4>
                        <p>Transfer the total expense to the income statement</p>
                        <div class="step-detail">
                            <p>The balancing figure on the Credit side goes to P&L = $150,000</p>
                            <p style="margin-top: 1rem;">This is the actual rent expense for the year!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- The Complete T-Account -->
            <div class="t-account" style="margin-top: 3rem;">
                <div class="t-account-title">Rent Expense</div>
                <div class="t-account-body">
                    <div class="t-account-side debit">
                        <h5>Debit (Dr)</h5>
                        <div class="t-account-entry">
                            <span>Apr 1 Bank</span>
                            <span>37,500</span>
                        </div>
                        <div class="t-account-entry">
                            <span>Jul 1 Bank</span>
                            <span>37,500</span>
                        </div>
                        <div class="t-account-entry">
                            <span>Oct 1 Bank</span>
                            <span>37,500</span>
                        </div>
                        <div class="t-account-entry highlight">
                            <span>Dec 31 Accrued c/d</span>
                            <span>37,500</span>
                        </div>
                        <div class="t-account-total">
                            <span></span>
                            <span>150,000</span>
                        </div>
                    </div>
                    <div class="t-account-side credit">
                        <h5>Credit (Cr)</h5>
                        <div class="t-account-entry" style="background: var(--primary); color: white; font-weight: 600;">
                            <span>Dec 31 Profit and loss</span>
                            <span>150,000</span>
                        </div>
                        <div class="t-account-total">
                            <span></span>
                            <span>150,000</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="callout warning" style="margin-top: 3rem;">
                <div class="callout-icon">‚ö°</div>
                <div class="callout-content">
                    <h4>Key Insight: Where Does Accrued c/d Go?</h4>
                    <p>
                        <strong>Rule:</strong> Accrued c/d goes on the <strong>same side as Bank</strong> entries.<br>
                        <strong>Why?</strong> Because it represents additional expense we haven't paid for yet ‚Äî it adds to our payments.
                    </p>
                    <p style="margin-top: 1rem;">
                        Prepaid c/d would go on the <strong>opposite side</strong> ‚Äî reducing the expense.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 7: Calculation Exercises -->
    <section id="calculations">
        <div class="container">
            <div class="section-header">
                <div class="section-number">7</div>
                <h2>Calculation Practice</h2>
                <p>Let's apply the formulas to real problems</p>
            </div>

            <!-- Exercise 1: Basic Accrued Expense -->
            <div class="exercise-container" id="exercise-1">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise 1</span>
                    <span class="exercise-title">Accrued Wages</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Given Information:</strong></p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                        <li>Wages paid during the year (per T/B): $8,940</li>
                        <li>Wages still owed to employees at year end: $810</li>
                    </ul>
                </div>

                <div class="exercise-question">
                    <label>What is the wages expense for the Income Statement?</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex1-answer" placeholder="Enter amount">
                        <button class="check-btn" id="ex1-check">Check</button>
                    </div>
                </div>

                <div class="feedback" id="ex1-feedback"></div>

                <div class="callout tip" style="margin-top: 2rem; display: none;" id="ex1-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Solution:</h4>
                        <p>I/S Expense = T/B + Accrued c/d = $8,940 + $810 = <strong>$9,750</strong></p>
                        <p style="margin-top: 1rem;">The $810 accrued wages appears as a <strong>Current Liability</strong> on the Statement of Financial Position.</p>
                    </div>
                </div>
            </div>

            <!-- Exercise 2: Basic Prepaid Expense -->
            <div class="exercise-container" id="exercise-2">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise 2</span>
                    <span class="exercise-title">Prepaid Insurance</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Given Information:</strong></p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                        <li>Insurance paid during the year (per T/B): $1,740</li>
                        <li>Insurance prepaid at year end: $180</li>
                    </ul>
                </div>

                <div class="exercise-question">
                    <label>What is the insurance expense for the Income Statement?</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex2-answer" placeholder="Enter amount">
                        <button class="check-btn" id="ex2-check">Check</button>
                    </div>
                </div>

                <div class="feedback" id="ex2-feedback"></div>
                
                <div class="callout tip" style="margin-top: 2rem; display: none;" id="ex2-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Solution:</h4>
                        <p>I/S Expense = T/B ‚àí Prepaid c/d = $1,740 ‚àí $180 = <strong>$1,560</strong></p>
                        <p style="margin-top: 1rem;">The $180 prepaid insurance appears as a <strong>Current Asset</strong> on the Statement of Financial Position.</p>
                    </div>
                </div>
            </div>

            <!-- Exercise 3: Accrued Revenue -->
            <div class="exercise-container" id="exercise-3">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise 3</span>
                    <span class="exercise-title">Accrued Rent Revenue</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Given Information:</strong></p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                        <li>Rent received during the year (per T/B): $7,500</li>
                        <li>Rent earned but not yet received (outstanding): $500</li>
                    </ul>
                </div>

                <div class="exercise-question">
                    <label>What is the rent revenue for the Income Statement?</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex3-answer" placeholder="Enter amount">
                        <button class="check-btn" id="ex3-check">Check</button>
                    </div>
                </div>

                <div class="feedback" id="ex3-feedback"></div>
                
                <div class="callout tip" style="margin-top: 2rem; display: none;" id="ex3-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Solution:</h4>
                        <p>I/S Revenue = T/B + Accrued c/d = $7,500 + $500 = <strong>$8,000</strong></p>
                        <p style="margin-top: 1rem;">The $500 appears as <strong>"Rent Receivable"</strong> or <strong>"Accrued Rent Revenue"</strong> under Current Assets.</p>
                    </div>
                </div>
            </div>

            <!-- Exercise 4: Unearned Revenue -->
            <div class="exercise-container" id="exercise-4">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise 4</span>
                    <span class="exercise-title">Unearned Commission Revenue</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Given Information:</strong></p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                        <li>Commission received during the year (per T/B): $2,500</li>
                        <li>Commission received but not yet earned (unearned): $700</li>
                    </ul>
                </div>

                <div class="exercise-question">
                    <label>What is the commission revenue for the Income Statement?</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex4-answer" placeholder="Enter amount">
                        <button class="check-btn" id="ex4-check">Check</button>
                    </div>
                </div>

                <div class="feedback" id="ex4-feedback"></div>
                
                <div class="callout tip" style="margin-top: 2rem; display: none;" id="ex4-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Solution:</h4>
                        <p>I/S Revenue = T/B ‚àí Unearned c/d = $2,500 ‚àí $700 = <strong>$1,800</strong></p>
                        <p style="margin-top: 1rem;">The $700 appears as <strong>"Unearned Commission Revenue"</strong> under Current Liabilities.</p>
                    </div>
                </div>
            </div>

            <!-- Exercise 5: Loan Interest Calculation -->
            <div class="exercise-container" id="exercise-5">
                <div class="exercise-header">
                    <span class="exercise-badge">Exercise 5</span>
                    <span class="exercise-title">Loan Interest (Time Apportionment)</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Given Information:</strong></p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem;">
                        <li>12% bank loan of $20,000 borrowed on <strong>1 January 2024</strong></li>
                        <li>Financial year ends on <strong>31 March 2024</strong></li>
                        <li>Loan interest paid during the year (per T/B): $200</li>
                    </ul>
                </div>

                <div class="exercise-question">
                    <label>Step 1: Calculate interest that should be charged for the year</label>
                    <p style="color: var(--text-muted); font-size: 0.938rem; margin-bottom: 1rem;">
                        (Principal √ó Rate √ó Time in months √∑ 12)
                    </p>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex5a-answer" placeholder="Interest due">
                    </div>
                </div>

                <div class="exercise-question">
                    <label>Step 2: Calculate the accrued interest at year end</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex5b-answer" placeholder="Accrued amount">
                    </div>
                </div>

                <button class="check-btn" id="ex5-check">Check Both Answers</button>
                <div class="feedback" id="ex5-feedback"></div>
                
                <div class="callout tip" style="margin-top: 2rem; display: none;" id="ex5-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Solution:</h4>
                        <p><strong>Step 1:</strong> $20,000 √ó 12% √ó 3/12 = $20,000 √ó 0.12 √ó 0.25 = <strong>$600</strong></p>
                        <p style="margin-top: 0.5rem;"><strong>Step 2:</strong> $600 (due) ‚àí $200 (paid) = <strong>$400</strong> accrued</p>
                        <p style="margin-top: 1.5rem;">
                            Income Statement shows: Loan interest expense <strong>$600</strong><br>
                            S/FP shows: Accrued loan interest (Current Liability) <strong>$400</strong>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 8: Multi-Year Problems -->
    <section id="multi-year">
        <div class="container">
            <div class="section-header">
                <div class="section-number">8</div>
                <h2>Multi-Year Problems</h2>
                <p>The most challenging type ‚Äî handling brought forward balances</p>
            </div>

            <div class="callout warning">
                <div class="callout-icon">‚ö†Ô∏è</div>
                <div class="callout-content">
                    <h4>Why This Is Tricky</h4>
                    <p>
                        When a problem mentions opening balances (b/d) from the previous year, students often get confused about:
                    </p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem; line-height: 1.9;">
                        <li>Which side of the T-account do the balances go?</li>
                        <li>Do they increase or decrease the I/S amount?</li>
                        <li>How do I find the missing figure?</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin-top: 4rem;">The Complete Solution Framework</h3>

            <div class="card" style="margin-top: 3rem;">
                <h4>For Expense Accounts:</h4>
                <div class="t-account" style="margin-top: 2rem;">
                    <div class="t-account-title">Expense Account (e.g., Rent)</div>
                    <div class="t-account-body">
                        <div class="t-account-side debit">
                            <h5>Debit (Dr)</h5>
                            <div class="t-account-entry" style="background: rgba(224, 122, 95, 0.15);">
                                <span>b/d Prepaid (brought from last year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry">
                                <span>Bank (payments this year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry" style="background: rgba(201, 162, 39, 0.15);">
                                <span>c/d Accrued (owed at year end)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                        </div>
                        <div class="t-account-side credit">
                            <h5>Credit (Cr)</h5>
                            <div class="t-account-entry" style="background: rgba(224, 122, 95, 0.15);">
                                <span>b/d Accrued (owed from last year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry" style="background: rgba(5, 150, 105, 0.15);">
                                <span>P&L (actual expense ‚Üí I/S)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry" style="background: rgba(201, 162, 39, 0.15);">
                                <span>c/d Prepaid (paid for next year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="highlight-box" style="margin-top: 3rem;">
                    <h4>Memory Trick for Expense Accounts:</h4>
                    <ul style="margin-top: 1rem; list-style: none; padding: 0; line-height: 2;">
                        <li>‚úì <strong>Debit side:</strong> Prepaid b/d, Bank payments, Accrued c/d</li>
                        <li>‚úì <strong>Credit side:</strong> Accrued b/d, P&L transfer, Prepaid c/d</li>
                        <li>‚úì <strong>P&L is always the balancing figure!</strong></li>
                    </ul>
                </div>
            </div>

            <div class="card" style="margin-top: 3rem;">
                <h4>For Revenue Accounts:</h4>
                <div class="t-account" style="margin-top: 2rem;">
                    <div class="t-account-title">Revenue Account (e.g., Rent Revenue)</div>
                    <div class="t-account-body">
                        <div class="t-account-side debit">
                            <h5>Debit (Dr)</h5>
                            <div class="t-account-entry" style="background: rgba(224, 122, 95, 0.15);">
                                <span>b/d Accrued (owed from last year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry" style="background: rgba(5, 150, 105, 0.15);">
                                <span>P&L (actual revenue ‚Üí I/S)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry" style="background: rgba(201, 162, 39, 0.15);">
                                <span>c/d Unearned (received in advance)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                        </div>
                        <div class="t-account-side credit">
                            <h5>Credit (Cr)</h5>
                            <div class="t-account-entry" style="background: rgba(224, 122, 95, 0.15);">
                                <span>b/d Unearned (received last year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry">
                                <span>Bank (receipts this year)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                            <div class="t-account-entry" style="background: rgba(201, 162, 39, 0.15);">
                                <span>c/d Accrued (earned not received)</span>
                                <span>√ó√ó√ó</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="highlight-box success" style="margin-top: 3rem;">
                    <h4>Memory Trick for Revenue Accounts:</h4>
                    <ul style="margin-top: 1rem; list-style: none; padding: 0; line-height: 2;">
                        <li>‚úì <strong>Credit side:</strong> Unearned b/d, Bank receipts, Accrued c/d</li>
                        <li>‚úì <strong>Debit side:</strong> Accrued b/d, P&L transfer, Unearned c/d</li>
                        <li>‚úì <strong>P&L is always the balancing figure!</strong></li>
                    </ul>
                </div>
            </div>

            <!-- Advanced Exercise -->
            <div class="exercise-container" style="margin-top: 4rem;">
                <div class="exercise-header">
                    <span class="exercise-badge">Challenge</span>
                    <span class="exercise-title">Multi-Year Rent Revenue</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Samuel Company</strong> receives rental income. For the year ended 30 April 2023:</p>
                    <table class="comparison-table" style="margin-top: 2rem; font-size: 0.938rem;">
                        <thead>
                            <tr>
                                <th></th>
                                <th>30 April 2022 (b/d)</th>
                                <th>30 April 2023 (c/d)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Rent revenue in advance (unearned)</td>
                                <td>$86,100</td>
                                <td>$93,600</td>
                            </tr>
                            <tr>
                                <td>Rent revenue in arrears (accrued)</td>
                                <td>$63,600</td>
                                <td>$55,200</td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 2rem;"><strong>Cash received during the year:</strong> $1,443,000</p>
                </div>

                <div class="exercise-question">
                    <label>Calculate the Rent Revenue for the Income Statement:</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="ex6-answer" placeholder="Enter amount">
                        <button class="check-btn" id="ex6-check">Check</button>
                    </div>
                </div>

                <div class="feedback" id="ex6-feedback"></div>
                
                <div class="callout tip" style="margin-top: 2rem; display: none;" id="ex6-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Solution:</h4>
                        <p>Using the formula:</p>
                        <p style="font-family: 'JetBrains Mono'; background: white; padding: 1.5rem; border-radius: 12px; margin: 1rem 0; line-height: 1.8;">
                            Revenue = Bank + Accrued c/d ‚àí Unearned c/d + Unearned b/d ‚àí Accrued b/d<br>
                            = $1,443,000 + $55,200 ‚àí $93,600 + $86,100 ‚àí $63,600<br>
                            = <strong>$1,427,100</strong>
                        </p>
                        
                        <div class="t-account" style="margin-top: 2rem;">
                            <div class="t-account-title">Rent Revenue</div>
                            <div class="t-account-body">
                                <div class="t-account-side debit">
                                    <h5>Debit (Dr)</h5>
                                    <div class="t-account-entry">
                                        <span>May 1 Accrued b/d</span>
                                        <span>63,600</span>
                                    </div>
                                    <div class="t-account-entry highlight">
                                        <span>Apr 30 P&L (bal. fig.)</span>
                                        <span>1,427,100</span>
                                    </div>
                                    <div class="t-account-entry">
                                        <span>Apr 30 Unearned c/d</span>
                                        <span>93,600</span>
                                    </div>
                                    <div class="t-account-total">
                                        <span></span>
                                        <span>1,584,300</span>
                                    </div>
                                </div>
                                <div class="t-account-side credit">
                                    <h5>Credit (Cr)</h5>
                                    <div class="t-account-entry">
                                        <span>May 1 Unearned b/d</span>
                                        <span>86,100</span>
                                    </div>
                                    <div class="t-account-entry">
                                        <span>Apr 30 Bank</span>
                                        <span>1,443,000</span>
                                    </div>
                                    <div class="t-account-entry">
                                        <span>Apr 30 Accrued c/d</span>
                                        <span>55,200</span>
                                    </div>
                                    <div class="t-account-total">
                                        <span></span>
                                        <span>1,584,300</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 9: Rent-Free Periods -->
    <section id="rent-free">
        <div class="container">
            <div class="section-header">
                <div class="section-number">9</div>
                <h2>Advanced: Rent-Free Periods</h2>
                <p>A favorite examiner topic that trips up many students</p>
            </div>

            <div class="card">
                <h3>The Concept</h3>
                <p style="margin-top: 1.5rem; color: var(--text-secondary);">
                    Sometimes landlords offer "rent-free periods" to attract tenants. However, accountants don't simply record zero rent for those months. Instead, we <strong>spread the total rent evenly</strong> across the entire lease period.
                </p>
                
                <div class="highlight-box primary" style="margin-top: 3rem;">
                    <h4>The Formula:</h4>
                    <div class="formula" style="background: rgba(255,255,255,0.15); display: block; text-align: center;">
                        Monthly Rent for Accounting = Total Payments √∑ Total Months
                    </div>
                    <p style="margin-top: 1.5rem; opacity: 0.95;">This gives the "true" monthly rent expense/revenue.</p>
                </div>
            </div>

            <div class="exercise-container" style="margin-top: 4rem;">
                <div class="exercise-header">
                    <span class="exercise-badge">Example</span>
                    <span class="exercise-title">Rent-Free Period Calculation</span>
                </div>
                
                <div class="exercise-scenario">
                    <p><strong>Duncan Company</strong> rents out an office property. On 1 April 2021, a 2-year lease was signed:</p>
                    <ul style="margin-top: 1rem; padding-left: 1.5rem; line-height: 1.9;">
                        <li>Monthly rent: $12,000</li>
                        <li>Rent-free months: 1st month (April 2021) and 24th month (March 2023)</li>
                        <li>Financial year ends: 31 December</li>
                    </ul>
                </div>

                <div class="exercise-question">
                    <label>Step 1: Total months in lease?</label>
                    <div class="input-group">
                        <input type="text" class="exercise-input" id="rf1-answer" placeholder="months" style="width: 120px;">
                    </div>
                </div>

                <div class="exercise-question">
                    <label>Step 2: Months with payment (excluding rent-free)?</label>
                    <div class="input-group">
                        <input type="text" class="exercise-input" id="rf2-answer" placeholder="months" style="width: 120px;">
                    </div>
                </div>

                <div class="exercise-question">
                    <label>Step 3: Total payments over lease period?</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="rf3-answer" placeholder="total">
                    </div>
                </div>

                <div class="exercise-question">
                    <label>Step 4: Actual monthly revenue for accounting purposes?</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input type="text" class="exercise-input" id="rf4-answer" placeholder="per month">
                    </div>
                </div>

                <button class="check-btn" id="rf-check">Check All Answers</button>
                <div class="feedback" id="rf-feedback"></div>

                <div class="callout tip" style="margin-top: 2rem; display: none;" id="rf-solution">
                    <div class="callout-icon">‚úì</div>
                    <div class="callout-content">
                        <h4>Complete Solution:</h4>
                        <p><strong>Step 1:</strong> Total lease = 24 months (Apr 2021 to Mar 2023)</p>
                        <p style="margin-top: 0.5rem;"><strong>Step 2:</strong> Paid months = 24 ‚àí 2 = 22 months</p>
                        <p style="margin-top: 0.5rem;"><strong>Step 3:</strong> Total payments = $12,000 √ó 22 = $264,000</p>
                        <p style="margin-top: 0.5rem;"><strong>Step 4:</strong> Accounting monthly = $264,000 √∑ 24 = <strong>$11,000</strong></p>
                        
                        <h4 style="margin-top: 2rem;">Revenue by Year:</h4>
                        <ul style="padding-left: 1.5rem; line-height: 1.9; margin-top: 1rem;">
                            <li><strong>2021:</strong> 9 months √ó $11,000 = $99,000 (Apr-Dec)</li>
                            <li><strong>2022:</strong> 12 months √ó $11,000 = $132,000 (Jan-Dec)</li>
                            <li><strong>2023:</strong> 3 months √ó $11,000 = $33,000 (Jan-Mar)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 10: Financial Statement Presentation -->
    <section id="financial-statements">
        <div class="container">
            <div class="section-header">
                <div class="section-number">10</div>
                <h2>Financial Statement Presentation</h2>
                <p>Where everything appears in the final statements</p>
            </div>

            <div class="card-grid">
                <div class="card">
                    <h4 style="color: var(--primary);">Income Statement</h4>
                    <p style="color: var(--text-secondary); margin: 1.5rem 0;">Shows the <strong>adjusted</strong> amounts ‚Äî actual expense/revenue for the period.</p>
                    
                    <div style="background: var(--background-alt); padding: 2rem; border-radius: 12px; margin-top: 1.5rem;">
                        <p><strong>Example entries:</strong></p>
                        <ul style="padding-left: 1.5rem; margin-top: 1rem; line-height: 1.9;">
                            <li>Wages and salaries: $9,750 <span style="color: var(--text-muted);">(TB $8,940 + accrued $810)</span></li>
                            <li>Insurance: $1,560 <span style="color: var(--text-muted);">(TB $1,740 ‚àí prepaid $180)</span></li>
                            <li>Rent revenue: $8,000 <span style="color: var(--text-muted);">(TB $7,500 + accrued $500)</span></li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h4 style="color: var(--primary);">Statement of Financial Position</h4>
                    <p style="color: var(--text-secondary); margin: 1.5rem 0;">Shows the <strong>adjustment amounts</strong> as assets or liabilities.</p>
                    
                    <div style="background: var(--background-alt); padding: 2rem; border-radius: 12px; margin-top: 1.5rem;">
                        <p><strong>Current Assets:</strong></p>
                        <ul style="padding-left: 1.5rem; line-height: 1.9;">
                            <li>Prepaid insurance: $180</li>
                            <li>Rent receivable: $500</li>
                        </ul>
                        
                        <p style="margin-top: 1.5rem;"><strong>Current Liabilities:</strong></p>
                        <ul style="padding-left: 1.5rem; line-height: 1.9;">
                            <li>Accrued wages: $810</li>
                            <li>Unearned commission: $700</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Complete Example -->
            <h3 style="margin-top: 5rem; margin-bottom: 3rem;">Complete Example: Trevor's Business</h3>
            
            <div class="exercise-scenario">
                <p><strong>Trial Balance Extracts (31 March 2024):</strong></p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
                    <div>
                        <p>Rent revenue: $7,500 (Cr)</p>
                        <p>Commission revenue: $2,500 (Cr)</p>
                    </div>
                    <div>
                        <p>Insurance: $1,740 (Dr)</p>
                        <p>Wages and salaries: $8,940 (Dr)</p>
                    </div>
                </div>
                <p style="margin-top: 1.5rem;"><strong>Adjustments:</strong></p>
                <ul style="padding-left: 1.5rem; line-height: 1.9;">
                    <li>Accrued wages: $810</li>
                    <li>Prepaid insurance: $180</li>
                    <li>Outstanding rent revenue: $500</li>
                    <li>Unearned commission: $700</li>
                </ul>
            </div>

            <div class="card-grid" style="margin-top: 3rem;">
                <div class="financial-statement">
                    <div class="fs-title">Trevor</div>
                    <div class="fs-subtitle">Income Statement (Extract) for Year Ended 31 March 2024</div>
                    <div class="fs-body">
                        <div class="fs-row header">
                            <span>Other Revenues</span>
                            <span>$</span>
                        </div>
                        <div class="fs-row highlight">
                            <span>Rent revenue ($7,500 + $500)</span>
                            <span>8,000</span>
                        </div>
                        <div class="fs-row highlight">
                            <span>Commission revenue ($2,500 ‚àí $700)</span>
                            <span>1,800</span>
                        </div>
                        <div class="fs-row header" style="margin-top: 1.5rem;">
                            <span>Expenses</span>
                            <span></span>
                        </div>
                        <div class="fs-row highlight">
                            <span>Wages and salaries ($8,940 + $810)</span>
                            <span>9,750</span>
                        </div>
                        <div class="fs-row highlight">
                            <span>Insurance ($1,740 ‚àí $180)</span>
                            <span>1,560</span>
                        </div>
                    </div>
                </div>

                <div class="financial-statement">
                    <div class="fs-title">Trevor</div>
                    <div class="fs-subtitle">Statement of Financial Position (Extract) as at 31 March 2024</div>
                    

